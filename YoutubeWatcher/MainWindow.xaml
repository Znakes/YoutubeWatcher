<Window x:Class="YoutubeWatcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:data="clr-namespace:Google.Apis.YouTube.v3.Data;assembly=Google.Apis.YouTube.v3"
        xmlns:viewModel="clr-namespace:YoutubeWatcher.ViewModel"
        BorderBrush="Black" BorderThickness="1"
        DataContext="{Binding Source={StaticResource Locator}, Path=Main}"
        Title="MainWindow" Height="573.221" Width="812.461" Loaded="MainWindow_OnLoaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="85"/>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="523*"/>
            <ColumnDefinition Width="85"/>
        </Grid.ColumnDefinitions>
        <StatusBar Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="5">
            <Label Content="{Binding Status}"/>
        </StatusBar>
        <Expander Grid.Row="0" Grid.Column="0" Background="#FFE63333">
            <StackPanel>
                <Button Command="{Binding ConnectCommand}" Content="Connect"/>
                <Button Command="{Binding SubscriptionsCommand}" Content="GetSubscriptions"/>
            </StackPanel>
        </Expander>
        <Expander Grid.Row="0" Grid.Column="1" ExpandDirection="Right"   Background="#FFE63333">
            <StackPanel>
                <ListBox SelectionChanged="Selector_OnSelectionChanged" ItemsSource="{Binding Subscriptions}" IsSynchronizedWithCurrentItem="True" >
                    <ListBox.ItemTemplate>
                        <DataTemplate DataType="viewModel:SubscriptionEx">
                            <StackPanel  Orientation="Horizontal">
                                <Label Content="{Binding Subscription.Snippet.Title}"></Label>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </StackPanel>
        </Expander>
        <DockPanel Grid.Row="0" LastChildFill="True" Grid.Column="2">
            <Button DockPanel.Dock="Bottom" Background="Red" >
                <Button.Content>
                    <Image Height="20" Source="Resources/Images/Refresh.png"></Image>
                </Button.Content>
            </Button>
            <Expander  ExpandDirection="Right"  Background="#FFE63333">
            <ContentControl Content="{Binding Subscriptions}" >
                <ContentControl.ContentTemplate>
                    <DataTemplate>
                        <ListBox ItemsSource="{Binding Playlists}" IsSynchronizedWithCurrentItem="True">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Label Content="{Binding Snippet.Title}"></Label>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </DataTemplate>
                </ContentControl.ContentTemplate>
            </ContentControl>
        </Expander>
            
        </DockPanel>
    </Grid>
</Window>
